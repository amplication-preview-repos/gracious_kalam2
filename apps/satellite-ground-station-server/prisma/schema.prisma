datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Schedule {
  availability          Boolean?
  communicationRequests CommunicationRequest[]
  createdAt             DateTime               @default(now())
  endTime               DateTime?
  id                    String                 @id @default(cuid())
  startTime             DateTime?
  updatedAt             DateTime               @updatedAt
}

model Satellite {
  communicationRequests CommunicationRequest[]
  createdAt             DateTime                @default(now())
  description           String?
  id                    String                  @id @default(cuid())
  name                  String?
  typeField             EnumSatelliteTypeField?
  updatedAt             DateTime                @updatedAt
}

model CommunicationRequest {
  createdAt   DateTime                        @default(now())
  id          String                          @id @default(cuid())
  satellite   Satellite?                      @relation(fields: [satelliteId], references: [id])
  satelliteId String?
  schedule    Schedule?                       @relation(fields: [scheduleId], references: [id])
  scheduleId  String?
  status      EnumCommunicationRequestStatus?
  updatedAt   DateTime                        @updatedAt
  user        User?                           @relation(fields: [userId], references: [id])
  userId      String?
}

model User {
  communicationRequests CommunicationRequest[]
  createdAt             DateTime               @default(now())
  email                 String?                @unique
  firstName             String?
  id                    String                 @id @default(cuid())
  lastName              String?
  name                  String?
  password              String
  role                  EnumUserRole?
  roles                 Json
  updatedAt             DateTime               @updatedAt
  username              String                 @unique
}

enum EnumSatelliteTypeField {
  Option1
}

enum EnumCommunicationRequestStatus {
  Option1
}

enum EnumUserRole {
  Option1
}
